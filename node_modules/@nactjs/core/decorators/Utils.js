"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createRouteParamDecorator = void 0;
const nact_constants_1 = require("../nact-constants");
function setMetaData(target, routeKey, key, value) {
    const currentMetaData = Reflect.getMetadata(nact_constants_1.ROUTE__PARAMETER__METADATA, target.constructor, routeKey);
    if (currentMetaData) {
        const propertyExists = currentMetaData[key];
        if (propertyExists) {
            currentMetaData[key].unshift(value);
        }
        else {
            currentMetaData[key] = [value];
        }
    }
    else {
        return { [key]: [value] };
    }
    return currentMetaData;
}
function createRouteParamDecorator(func) {
    return function (target, key, index) {
        Reflect.defineMetadata(nact_constants_1.ROUTE__PARAMETER__METADATA, setMetaData(target, key, nact_constants_1.ROUTE__PARAMS, func), target.constructor, key);
    };
}
exports.createRouteParamDecorator = createRouteParamDecorator;
