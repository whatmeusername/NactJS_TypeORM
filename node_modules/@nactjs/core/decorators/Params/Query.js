"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Query = void 0;
const Utils_1 = require("../Utils");
function Query(...params) {
    return (0, Utils_1.createRouteParamDecorator)(function (req) {
        const query = req.getURLData().query;
        if (params.length > 0) {
            const res = {};
            for (let i = 0; i < params.length; i++) {
                let param = params[i];
                if (param.endsWith("[]")) {
                    param = param.slice(0, param.length - 2);
                    res[param] = query.getAll(param);
                }
                else {
                    res[param] = query.get(param);
                }
            }
            return res;
        }
        return req.getURLData().query;
    });
}
exports.Query = Query;
